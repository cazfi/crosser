diff -Nurd svgalib-1.9.25/kernel/svgalib_helper/main.c svgalib-1.9.25/kernel/svgalib_helper/main.c
--- svgalib-1.9.25/kernel/svgalib_helper/main.c	2010-11-29 18:16:55.952666002 +0200
+++ svgalib-1.9.25/kernel/svgalib_helper/main.c	2010-11-29 18:18:14.212665999 +0200
@@ -162,9 +162,17 @@
 	get_user(pciv.address, &user_pciv->address); \
 	get_user(pciv.val, &user_pciv->val); 
 #define PUT_PCIV \
-	put_user(pciv.val, &user_pciv->val); 
+	put_user(pciv.val, &user_pciv->val);
+
+#if LINUX_VERSION_CODE < KERNEL_VERSION(2,6,36) 
 static int svgalib_helper_ioctl( struct inode *inode, struct file *filp, 
                           unsigned int cmd, unsigned long arg) {
+#else  /* Linux < 2.6.36 */
+static int svgalib_helper_ioctl(struct file *filp,
+				unsigned int cmd, unsigned long arg) { 
+
+    struct inode *inode = filp->f_dentry->d_inode;
+#endif /* Linux < 2.6.36 */
 
     io_t iov, *user_iov=(io_t *)arg;
     pcic_t pciv, *user_pciv=(pcic_t *)arg;
@@ -595,7 +603,11 @@
 #if LINUX_VERSION_CODE >= KERNEL_VERSION(2,3,0)
    .owner	= THIS_MODULE,
 #endif
+#if LINUX_VERSION_CODE < KERNEL_VERSION(2,6,36) 
    .ioctl	= svgalib_helper_ioctl,
+#else  /* Linux < 2.6.36 */
+   .unlocked_ioctl = svgalib_helper_ioctl,
+#endif /* Linux < 2.6.36 */
    .mmap	= svgalib_helper_mmap,
    .open	= svgalib_helper_open,
    .release	= svgalib_helper_release,
